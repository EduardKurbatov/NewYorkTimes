{"version":3,"sources":["fire.js","components/ErrorModal/ErrorModal.js","components/Sign/Sign.js","components/utils.js","components/Header/Header.js","components/Main/Main.js","components/Profile/Profile.js","App.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ErrorModal","props","signUpError","signInError","setSignInError","setSignUpError","className","onClick","Sign","user","setUser","useState","email","setEmail","password","setPassword","hasAccount","setHasAccount","history","useHistory","clearErrors","type","placeholder","required","value","onChange","e","target","auth","createUserWithEmailAndPassword","createUser","then","localStorage","setItem","JSON","stringify","catch","err","message","signInWithEmailAndPassword","initLogin","push","Home","goToSign","userExist","getItem","useEffect","signOut","clear","Main","Profile","App","setUserExist","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1a2aa29.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD5KO_0olranmJR294vocEPoVj4m_DGpdM\",\n  authDomain: \"newyorktimesn.firebaseapp.com\",\n  projectId: \"newyorktimesn\",\n  storageBucket: \"newyorktimesn.appspot.com\",\n  messagingSenderId: \"581730704822\",\n  appId: \"1:581730704822:web:55dc1fac07b08e86ee3517\"\n  }\n  \nconst fire = firebase.initializeApp(firebaseConfig);\n\nexport default fire\n","import './ErrorModal.scss'\n\nfunction ErrorModal(props) {\n\nconst {signUpError, signInError, setSignInError, setSignUpError} = props\n\nconst closeModal = () => {\n    setSignInError(\"\");\n    setSignUpError(\"\");\n}\n\n    return (\n        <div className=\"error-whindow\">\n        <p>{signUpError || signInError}</p>\n        <button onClick={closeModal}>OK</button>\n        </div>\n    )\n}\n\nexport default ErrorModal\n","import {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport \"./Signup.scss\";\nimport { createUser, initLogin } from '../utils';\nimport ErrorModal from '../ErrorModal/ErrorModal';\n\nfunction Sign(props) {\nconst {user, setUser} = props\nconst [email, setEmail] = useState(\"\");\nconst [password, setPassword] = useState(\"\");\nconst [hasAccount, setHasAccount] = useState(false);\nconst [signInError, setSignInError] = useState(\"\");\nconst [signUpError, setSignUpError] = useState(\"\");  \n\nconst history = useHistory();\n\nconst successSignIn = () => {\n    history.push('/main');\n  };\n\n\nconst clearErrors = () => {\n    setSignUpError(\"\");\n    setSignInError(\"\");\n  };\n\nconst handleSignUp = () => {\n    clearErrors();\n    createUser(email, password)\n      .then(() => {\n        localStorage.setItem('userEmail', JSON.stringify(email));\n        setUser(true);\n      })\n      .catch((err) => {\n        setSignUpError(err.message);\n      })\n    };\n    \nconst handleSignIn = () => {\n    clearErrors();\n    initLogin(email, password)\n      .then(() => {\n        localStorage.setItem('userEmail', JSON.stringify(email));\n        setUser(true);\n        successSignIn();\n      })\n      .catch(err => {\n        setSignInError(err.message);\n      })\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginContainer\">\n        <h1 className=\"heading\">{ !hasAccount ? \"Sign in\" : \"Sign Up\"}</h1>\n        <label>User Name</label>\n        <input\n          type=\"text\"\n          placeholder=\"Enter the Email\"\n          required\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n        />\n        <p className=\"err-msg\"></p>\n        <label>Password</label>\n        <input\n          type=\"password\"\n          placeholder=\"Enter the password\"\n          required\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <p className=\"err-msg\"></p>\n        <div className=\"btn-container\">\n          { hasAccount ? (\n\n          <>\n            <button className=\"sign-btn\" onClick={handleSignUp}>Sign Up</button>\n            <p>\n              Allready have an account ?\n                <span onClick={() => setHasAccount(!hasAccount)}>Sign in</span>\n            </p>\n          </>\n          ) : (\n            <>\n              <button className=\"sign-btn\" onClick={handleSignIn}>Sign In</button>\n                <p>\n                  Don't have an account ?\n                    <span onClick={() => setHasAccount(!hasAccount)}>Sign Up</span>\n                </p>\n            </>\n          )\n        }\n        </div>\n        { (signInError || signUpError) && <ErrorModal setSignInError={setSignInError} setSignUpError={setSignUpError} signInError={signInError} signUpError={signInError} />}\n      </div>\n    </div>\n  );\n}\n\nexport default Sign;\n","import fire from '../fire';\n\nexport const initLogin = (email, password) => {\n    return fire.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  export const createUser = (email, password) => {\n    return fire.auth().createUserWithEmailAndPassword(email, password);\n  }\n\n\n  // const authListener = () => {\n//     fire.auth().onAuthStateChanged((user) => {\n//       if(user) {\n//         cleearInputs();\n//       } \n//     })\n//   };\n\n// useEffect(() => {\n//   console.log('rerender');\n// })\n\n// const cleearInputs = () => {\n//     setEmail(\"\");\n//     setPassword(\"\");\n// };","import './Header.scss';\nimport {useHistory} from 'react-router-dom';\nimport { useEffect } from 'react'\nimport fire  from '../../fire';\n\n\nfunction Home(props) {\n\n    const {user, setUser} = props\n\n    const history = useHistory();\n\n    const goToMainPage = () => {\n        history.push('/main')\n    }\n\n    const goToSign = () => {\n        history.push('/sign');\n    }\n\n    const goToProfilePage = () => {\n        history.push('/profile');\n    }\n    \n    let userExist = localStorage.getItem('userEmail');  \n\n    const handleLogOut = () => {\n        fire.auth().signOut();\n        localStorage.clear();\n        setUser(false);\n        goToSign(); \n      }\n\n      useEffect(() => {\n      }, [userExist, user])\n\n\n    return (\n        <div className=\"header-container\">\n            <h1 className=\"header\" onClick={goToMainPage}>NY Times</h1>\n            {\n            userExist ? \n            (\n            <>\n             <div className=\"exist-user\">\n                 <li className=\"drop-down\">\n                     <button className=\"drop-down-btn\" onClick={goToProfilePage}>Profile</button>\n                     <button className=\"drop-down-btn\" onClick={handleLogOut}>LogOut</button>\n                 </li>\n                 </div>\n            </>\n            ) : (\n            <>    \n             <button className=\"login-btn\" onClick={goToSign}>login</button>   \n            </> \n            )\n            }\n        </div>\n    )\n}\n\nexport default Home\n","import './Main.scss';\n\nfunction Main() {\n    return (\n        <div className=\"main-page\">\n            <h1>This is main page</h1>\n        </div>\n    )\n}\n\nexport default Main\n","import './Profile.scss';\n\nfunction Profile() {\n    return (\n        <div className=\"profile-page\">\n            <h1>This is profile page</h1>\n        </div>\n    )\n}\n\nexport default Profile\n","import \"./App.scss\";\nimport { useEffect, useState } from 'react';\nimport Sign from './components/Sign/Sign';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport Main from './components/Main/Main';\nimport Profile from './components/Profile/Profile';\n\n\n\nfunction App() {\n\tconst [userExist, setUserExist] = useState(false);\n    // let userExist = localStorage.getItem('userEmail');  \n\n\n\tuseEffect(() => {\n\t}, [userExist])\n\n  return (\n\t<BrowserRouter>\t\n\t\t<div className=\"App\">\t\t\t\t\n\t\t\t\t<Header user = {userExist} setUser = {setUserExist} />\n\t\t\t\t<Route path=\"/main\" component={Main}></Route>\n\t\t\t\t<Route path=\"/sign\" component={() => <Sign user = {userExist} setUser = {setUserExist} />}></Route>\n\t\t\t\t<Route path=\"/profile\" component={Profile}></Route>\n\t\t\t\t\n\t\t</div>\n\t</BrowserRouter>\t \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}